{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useUncontrolled;\n\nvar _react = require(\"react\");\n\nvar Utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction useUncontrolled(props, config) {\n  return Object.keys(config).reduce(function (result, fieldName) {\n    var _extends2;\n\n    var defaultValue = result[Utils.defaultKey(fieldName)],\n        propsValue = result[fieldName],\n        rest = _objectWithoutPropertiesLoose(result, [Utils.defaultKey(fieldName), fieldName].map(_toPropertyKey));\n\n    var handlerName = config[fieldName];\n    var prevProps = (0, _react.useRef)({});\n\n    var _useState = (0, _react.useState)(defaultValue),\n        stateValue = _useState[0],\n        setState = _useState[1];\n\n    var isProp = Utils.isProp(props, fieldName);\n    var wasProp = Utils.isProp(prevProps.current, fieldName);\n    prevProps.current = props;\n    /**\n     * If a prop switches from controlled to Uncontrolled\n     * reset its value to the defaultValue\n     */\n\n    if (!isProp && wasProp) {\n      setState(defaultValue);\n    }\n\n    var propsHandler = props[handlerName];\n    var handler = (0, _react.useCallback)(function (value) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (propsHandler) propsHandler.apply(void 0, [value].concat(args));\n      setState(value);\n    }, [setState, propsHandler]);\n    return _extends({}, rest, (_extends2 = {}, _extends2[fieldName] = isProp ? propsValue : stateValue, _extends2[handlerName] = handler, _extends2));\n  }, props);\n}\n\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["/Users/macbook/Desktop/react-ma/Bootcamp-React-project/node_modules/uncontrollable/hook.js"],"names":["exports","__esModule","default","useUncontrolled","_react","require","Utils","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_toPropertyKey","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","props","config","reduce","result","fieldName","_extends2","defaultValue","defaultKey","propsValue","rest","map","handlerName","prevProps","useRef","_useState","useState","stateValue","setState","isProp","wasProp","current","propsHandler","handler","useCallback","value","_len","args","Array","_key","concat","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useUncontrolled;\n\nvar _react = require(\"react\");\n\nvar Utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction useUncontrolled(props, config) {\n  return Object.keys(config).reduce(function (result, fieldName) {\n    var _extends2;\n\n    var defaultValue = result[Utils.defaultKey(fieldName)],\n        propsValue = result[fieldName],\n        rest = _objectWithoutPropertiesLoose(result, [Utils.defaultKey(fieldName), fieldName].map(_toPropertyKey));\n\n    var handlerName = config[fieldName];\n    var prevProps = (0, _react.useRef)({});\n\n    var _useState = (0, _react.useState)(defaultValue),\n        stateValue = _useState[0],\n        setState = _useState[1];\n\n    var isProp = Utils.isProp(props, fieldName);\n    var wasProp = Utils.isProp(prevProps.current, fieldName);\n    prevProps.current = props;\n    /**\n     * If a prop switches from controlled to Uncontrolled\n     * reset its value to the defaultValue\n     */\n\n    if (!isProp && wasProp) {\n      setState(defaultValue);\n    }\n\n    var propsHandler = props[handlerName];\n    var handler = (0, _react.useCallback)(function (value) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (propsHandler) propsHandler.apply(void 0, [value].concat(args));\n      setState(value);\n    }, [setState, propsHandler]);\n    return _extends({}, rest, (_extends2 = {}, _extends2[fieldName] = isProp ? propsValue : stateValue, _extends2[handlerName] = handler, _extends2));\n  }, props);\n}\n\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}